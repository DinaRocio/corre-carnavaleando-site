---
import site from "../../content/site.json";
import Button from "../atoms/Button.astro";
import Link from "../atoms/Link.astro";
---

<>
  {
    site.footer.footerMainLinks.map((col) => (
      <div class="md:flex flex-col gap-4 hidden ">
        <h3 class="body-16-semibold">{col.title}</h3>

        <ul class="flex flex-col gap-4">
          {col.links.map((link) => (
            <li>
              <Link href={link.href}>{link.label}</Link>
            </li>
          ))}
        </ul>
      </div>
    ))
  }
  {
    (
      <div class="md:hidden block border-b border-(--color-border)">
        {site.footer.footerMainLinks.map((col) => (
          <div class="md:hidden flex flex-col " x-data="{ open: false }">
            <div
              class="flex items-center justify-between border-t border-(--color-border) cursor-pointer"
              x-on:click="open = !open"
            >
              <h3 class="body-16-semibold">{col.title}</h3>
              <Button startEnhancer="sum" variant="ghost" size="sm" />
            </div>
            <div
              x-show="open"
              x-transition:enter="transition ease-out duration-200"
              x-transition:enter-start="opacity-0 -translate-y-2"
              x-transition:enter-end="opacity-100 translate-y-0"
              x-transition:leave="transition ease-in duration-150"
              x-transition:leave-start="opacity-100 translate-y-0"
              x-transition:leave-end="opacity-0 -translate-y-2"
              class="overflow-hidden"
            >
              <ul class="flex flex-col gap-3 pb-4">
                {col.links.map((link) => (
                  <li>
                    <Link href={link.href}>{link.label}</Link>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>
    )
  }
</>
